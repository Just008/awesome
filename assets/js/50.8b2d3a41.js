(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{218:function(t,e,s){"use strict";s.r(e);var a=s(0),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),s("p",[s("a",{attrs:{href:"https://www.ibm.com/developerworks/cn/linux/l-cn-screen/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("原文地址"),s("OutboundLink")],1)]),t._v(" "),t._m(1),t._v(" "),s("p",[t._v("让我们来看看为什么关掉窗口/断开连接会使得正在运行的程序死掉。")]),t._v(" "),s("p",[t._v("在Linux/Unix中，有这样几个概念：")]),t._v(" "),t._m(2),t._v(" "),s("p",[t._v("根据POSIX.1定义：")]),t._v(" "),t._m(3),t._v(" "),s("p",[t._v("因此当网络断开或终端窗口关闭后，控制进程收到SIGHUP信号退出，会导致该会话期内其他进程退出。")]),t._v(" "),s("p",[t._v("我们来看一个例子。打开两个SSH终端窗口，在其中一个运行top命令。")]),t._v(" "),t._m(4),s("p",[t._v("在另一个终端窗口，找到top的进程ID为5180，其父进程ID为5128，即登录shell。")]),t._v(" "),t._m(5),s("p",[t._v("使用pstree命令可以更清楚地看到这个关系：")]),t._v(" "),t._m(6),s("p",[t._v("使用ps-xj命令可以看到，登录shell（PID 5128）和top在同一个会话期，shell为会话期首进程，所在进程组PGID为5128，top所在进程组PGID为5180，为前台进程组。")]),t._v(" "),t._m(7),s("p",[t._v("关闭第一个SSH窗口，在另一个窗口中可以看到top也被杀掉了。")]),t._v(" "),t._m(8),s("p",[t._v("如果我们可以忽略SIGHUP信号，关掉窗口应该就不会影响程序的运行了。nohup命令可以达到这个目的，如果程序的标准输出/标准错误是终端，nohup默认将其重定向到nohup.out文件。值得注意的是nohup命令只是使得程序忽略SIGHUP信号，还需要使用标记**&**把它放在后台运行。")]),t._v(" "),t._m(9),s("p",[t._v("虽然nohup很容易使用，但还是比较“简陋”的，对于简单的命令能够应付过来，对于复杂的需要人机交互的任务就麻烦了。")]),t._v(" "),s("p",[t._v("其实我们可以使用一个更为强大的实用程序screen。流行的Linux发行版（例如Red Hat Enterprise Linux 4）通常会自带screen实用程序，如果没有的话，可以从GNU screen的官方网站下载。")]),t._v(" "),t._m(10),t._m(11),t._v(" "),s("p",[t._v("简单来说，Screen是一个可以在多个进程之间多路复用一个物理终端的窗口管理器。Screen中有会话的概念，用户可以在一个screen会话中创建多个screen窗口，在每一个screen窗口中就像操作一个真实的telnet/SSH连接窗口那样。在screen中创建一个新的窗口有这样几种方式：")]),t._v(" "),s("p",[t._v("1．直接在命令行键入screen命令")]),t._v(" "),t._m(12),s("p",[t._v("Screen将创建一个执行shell的全屏窗口。你可以执行任意shell程序，就像在ssh窗口中那样。在该窗口中键入exit退出该窗口，如果这是该screen会话的唯一窗口，该screen会话退出，否则screen自动切换到前一个窗口。")]),t._v(" "),s("p",[t._v("2．Screen命令后跟你要执行的程序。")]),t._v(" "),t._m(13),s("p",[t._v("Screen创建一个执行vi test.c的单窗口会话，退出vi将退出该窗口/会话。")]),t._v(" "),t._m(14),t._v(" "),s("p",[t._v("screen还有更高级的功能。你可以不中断screen窗口中程序的运行而暂时断开（detach）screen会话，并在随后时间重新连接（attach）该会话，重新控制各窗口中运行的程序。例如，我们打开一个screen窗口编辑/tmp/abc文件：")]),t._v(" "),t._m(15),t._m(16),t._v(" "),t._m(17),t._v(" "),s("p",[t._v("半个小时之后回来了，找到该screen会话：")]),t._v(" "),t._m(18),s("p",[t._v("重新连接会话：")]),t._v(" "),t._m(19),s("p",[t._v("看看出现什么了，太棒了，一切都在。继续干吧。")]),t._v(" "),s("p",[t._v("你可能注意到给screen发送命令使用了特殊的键组合C-a。这是因为我们在键盘上键入的信息是直接发送给当前screen窗口，必须用其他方式向screen窗口管理器发出命令，默认情况下，screen接收以C-a开始的命令。这种命令形式在screen中叫做键绑定（key binding），C-a叫做命令字符（command character）。")]),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),s("p",[t._v("使用键绑定C-a ?命令可以看到, 默认的命令字符（Command key）为C-a，转义C-a（literal ^a）的字符为a：")]),t._v(" "),t._m(23),t._v(" "),s("p",[t._v("因为screen把C-a看作是screen命令的开始，所以如果你想要screen窗口接收到C-a字符，就要输入C-a a。Screen也允许你使用-e选项设置自己的命令字符和转义字符，其格式为：")]),t._v(" "),s("p",[t._v("-exy x为命令字符，y为转义命令字符的字符")]),t._v(" "),s("p",[t._v("下面命令启动的screen会话指定了命令字符为C-t，转义C-t的字符为t，通过C-t ?命令可以看到该变化。")]),t._v(" "),t._m(24),t._m(25),t._v(" "),t._m(26),t._v(" "),s("p",[t._v("其他常用的命令选项有：")]),t._v(" "),t._m(27),t._v(" "),t._m(28),t._v(" "),s("p",[t._v("先来看看如何使用screen解决SIGHUP问题，比如现在我们要ftp传输一个大文件。如果按老的办法，SSH登录到系统，直接ftp命令开始传输，之后。。如果网络速度还可以，恭喜你，不用等太长时间了；如果网络不好，老老实实等着吧，只能传输完毕再断开SSH连接了。让我们使用screen来试试。")]),t._v(" "),s("p",[t._v("SSH登录到系统，在命令行键入screen。")]),t._v(" "),t._m(29),s("p",[t._v("在screen shell窗口中输入ftp命令，登录，开始传输。不愿意等了？OK，在窗口中键入C-a d：")]),t._v(" "),t._m(30),t._v(" "),t._m(31),t._v(" "),s("p",[t._v("然后。。退出SSH登录？随你怎样，只要别杀掉screen会话。")]),t._v(" "),s("p",[t._v("是不是很方便？更进一步，其实我们可以利用screen这种功能来管理你的远程会话，保存你所有的工作内容。你是不是每次登录到系统都要开很多窗口，然后每天都要重复打开关闭这些窗口？让screen来帮你“保存”吧，你只需要打开一个ssh窗口，创建需要的screen窗口，退出的时候C-a d“保存”你的工作，下次登录后直接screen -r <screen_pid>就可以了。")]),t._v(" "),s("p",[t._v("最好能给每个窗口起一个名字，这样好记些。使用C-a A给窗口起名字。使用C-a w可以看到这些窗口名字，可能名字出现的位置不同。使用putty：")]),t._v(" "),t._m(32),t._v(" "),t._m(33),t._v(" "),s("p",[t._v("使用telnet：")]),t._v(" "),t._m(34),t._v(" "),t._m(35),t._v(" "),t._m(36),t._v(" "),s("p",[t._v("Screen提供了丰富强大的定制功能。你可以在Screen的默认两级配置文件/etc/screenrc和$HOME/.screenrc中指定更多，例如设定screen选项，定制绑定键，设定screen会话自启动窗口，启用多用户模式，定制用户访问权限控制等等。如果你愿意的话，也可以自己指定screen配置文件。")]),t._v(" "),s("p",[t._v("以多用户功能为例，screen默认是以单用户模式运行的，你需要在配置文件中指定multiuser on 来打开多用户模式，通过acl*（acladd,acldel,aclchg...）命令，你可以灵活配置其他用户访问你的screen会话。更多配置文件内容请参考screen的man页。")]),t._v(" "),t._m(37),t._v(" "),s("ul",[s("li",[t._v("“Advanced Programming in the UNIX® Environment: Second Edition” W. Richard Stevens, Stephen A. Rago 提供了更多关于Linux/Unix进程关系、信号的知识。")]),t._v(" "),s("li",[t._v("GNU Screen的官方网站："),s("a",{attrs:{href:"http://www.gnu.org/software/screen/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://www.gnu.org/software/screen/"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("Screen的man page提供了最详细的信息："),s("a",{attrs:{href:"http://www.slac.stanford.edu/comp/unix/package/epics/extensions/iocConsole/screen.1.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://www.slac.stanford.edu/comp/unix/package/epics/extensions/iocConsole/screen.1.html"),s("OutboundLink")],1)])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"screen-使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#screen-使用"}},[this._v("#")]),this._v(" screen 使用")])},function(){var t=this.$createElement,e=this._self._c||t;return e("blockquote",[e("p",[this._v("你是不是经常需要 SSH 或者 telent 远程登录到 Linux 服务器？你是不是经常为一些长时间运行的任务而头疼，比如系统备份、ftp 传输等等。通常情况下我们都是为每一个这样的任务开一个远程终端窗口，因为他们执行的时间太长了。必须等待它执行完毕，在此期间可不能关掉窗口或者断开连接，否则这个任务就会被杀掉，一切半途而废了。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("进程组（process group）：一个或多个进程的集合，每一个进程组有唯一一个进程组ID，即进程组长进程的ID。")]),this._v(" "),e("li",[this._v("会话期（session）：一个或多个进程组的集合，有唯一一个会话期首进程（session leader）。会话期ID为首进程的ID。")]),this._v(" "),e("li",[this._v("会话期可以有一个单独的控制终端（controlling terminal）。与控制终端连接的会话期首进程叫做控制进程（controlling process）。当前与终端交互的进程称为前台进程组。其余进程组称为后台进程组。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("挂断信号（SIGHUP）默认的动作是终止程序。")]),this._v(" "),e("li",[this._v("当终端接口检测到网络连接断开，将挂断信号发送给控制进程（会话期首进程）。")]),this._v(" "),e("li",[this._v("如果会话期首进程终止，则该信号发送到该会话期前台进程组。")]),this._v(" "),e("li",[this._v("一个进程退出导致一个孤儿进程组中产生时，如果任意一个孤儿进程组进程处于STOP状态，发送SIGHUP和SIGCONT信号到该进程组中所有进程。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("[")]),this._v("root@tivf09 root"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[this._v("# top")]),this._v("\n")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@tivf09 root"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ps -ef|grep top")]),t._v("\nroot      "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5180")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5128")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" 01:03 pts/0    00:00:02 "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("top")]),t._v("\nroot      "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5857")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3672")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" 01:12 pts/2    00:00:00 "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("top")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("[")]),this._v("root@tivf09 root"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[this._v("# pstree -H 5180|grep top")]),this._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[this._v("|")]),this._v("-sshd-+-sshd---bash---top\n")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@tivf09 root"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ps -xj|grep 5128")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5126")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5128")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5128")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5128")]),t._v(" pts/0     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5180")]),t._v(" S        "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(":00 -bash\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5128")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5180")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5180")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5128")]),t._v(" pts/0     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5180")]),t._v(" S        "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(":50 "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("top")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3672")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18095")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18094")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3672")]),t._v(" pts/2    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18094")]),t._v(" S        "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(":00 "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5128")]),t._v("\n")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@tivf09 root"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ps -ef|grep 5128")]),t._v("\nroot     "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18699")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3672")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" 04:35 pts/2    00:00:00 "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5128")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v("\n")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("nohup")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("`"),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("command")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v("`"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("argument…"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("[")]),this._v("root@tivf06 ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[this._v("# rpm -qa|grep screen")]),this._v("\nxscreensaver-4.18-5.rhel4.11\nscreen-4.0.2-5\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"开始使用screen"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#开始使用screen"}},[this._v("#")]),this._v(" 开始使用Screen")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("[")]),this._v("root@tivf06 ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[this._v("# screen")]),this._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("[")]),this._v("root@tivf06 ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[this._v("# screen vi test.c")]),this._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("3．以上两种方式都创建新的screen会话。我们还可以在一个已有screen会话中创建新的窗口。在当前screen窗口中键入"),e("code",[this._v("C-a c")]),this._v("，即Ctrl键+a键，之后再按下c键，screen 在该会话内生成一个新的窗口并切换到该窗口。")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("[")]),this._v("root@tivf06 ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[this._v("# screen vi /tmp/abc")]),this._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("之后我们想暂时退出做点别的事情，比如出去散散步，那么在screen窗口键入"),e("code",[this._v("C-a d")]),this._v("，Screen会给出detached提示：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"暂时中断会话"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#暂时中断会话"}},[this._v("#")]),this._v(" 暂时中断会话")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("[")]),this._v("root@tivf06 ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[this._v("# screen -ls``There is a screen on:``        ``16582.pts-1.tivf06      (Detached)``1 Socket in /tmp/screens/S-root.")]),this._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("[")]),this._v("root@tivf06 ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[this._v("# screen -r 16582")]),this._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("可以通过"),e("code",[this._v("C-a ?")]),this._v("来查看所有的键绑定，常用的键绑定有：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"c-a-显示所有键绑定信息c-a-w显示所有窗口列表c-a-c-a切换到之前显示的窗口c-a-c创建一个新的运行shell的窗口并切换到该窗口c-a-n切换到下一个窗口c-a-p切换到前一个窗口-与c-a-n相对-c-a-0-9切换到窗口0-9c-a-a发送-c-a到当前窗口c-a-d暂时断开screen会话c-a-k杀掉当前窗口c-a-进入拷贝-回滚模式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#c-a-显示所有键绑定信息c-a-w显示所有窗口列表c-a-c-a切换到之前显示的窗口c-a-c创建一个新的运行shell的窗口并切换到该窗口c-a-n切换到下一个窗口c-a-p切换到前一个窗口-与c-a-n相对-c-a-0-9切换到窗口0-9c-a-a发送-c-a到当前窗口c-a-d暂时断开screen会话c-a-k杀掉当前窗口c-a-进入拷贝-回滚模式"}},[this._v("#")]),this._v(" C-a ?显示所有键绑定信息C-a w显示所有窗口列表C-a C-a切换到之前显示的窗口C-a c创建一个新的运行shell的窗口并切换到该窗口C-a n切换到下一个窗口C-a p切换到前一个窗口(与C-a n相对)C-a 0..9切换到窗口0..9C-a a发送 C-a到当前窗口C-a d暂时断开screen会话C-a k杀掉当前窗口C-a [进入拷贝/回滚模式")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"screen常用选项"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#screen常用选项"}},[this._v("#")]),this._v(" Screen常用选项")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"screen-常用选项"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#screen-常用选项"}},[this._v("#")]),this._v(" Screen 常用选项")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("[")]),this._v("root@tivf18 root"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[this._v("# screen -e^tt")]),this._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"自定义命令字符和转义字符"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#自定义命令字符和转义字符"}},[this._v("#")]),this._v(" 自定义命令字符和转义字符")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://www.ibm.com/developerworks/cn/linux/l-cn-screen/newkeybinding.jpg",alt:"newkeybinding"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("-c file")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("使用配置文件file，而不使用默认的$HOME/.screenrc")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("strong",[t._v("-d|-D [pid.tty.host]")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("不开启新的screen会话，而是断开其他正在运行的screen会话")])])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("strong",[t._v("-h num")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("指定历史回滚缓冲区大小为num行")])])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("strong",[t._v("-list|-ls")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("列出现有screen会话，格式为pid.tty.host")])])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("strong",[t._v("-d -m")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("启动一个开始就处于断开模式的会话")])])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("strong",[t._v("-r sessionowner/ [pid.tty.host]")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("重新连接一个断开的会话。多用户模式下连接到其他用户screen会话需要指定sessionowner，需要setuid-root权限")])])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("strong",[t._v("-S sessionname")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("创建screen会话时为会话指定一个名字")])])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("strong",[t._v("-v")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("显示screen版本信息")])])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("strong",[t._v("-wipe [match]")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("同-list，但删掉那些无法连接的会话")])])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}}),t._v(" "),s("td",{staticStyle:{"text-align":"left"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"管理你的远程会话"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#管理你的远程会话"}},[this._v("#")]),this._v(" 管理你的远程会话")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("[")]),this._v("root@tivf18 root"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[this._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[this._v("# screen")]),this._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"管理远程会话"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#管理远程会话"}},[this._v("#")]),this._v(" 管理远程会话")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://www.ibm.com/developerworks/cn/linux/l-cn-screen/ftp.jpg",alt:"ftp"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"putty"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#putty"}},[this._v("#")]),this._v(" putty")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://www.ibm.com/developerworks/cn/linux/l-cn-screen/ftp.jpg",alt:"ftp"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"telnet"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#telnet"}},[this._v("#")]),this._v(" telnet")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://www.ibm.com/developerworks/cn/linux/l-cn-screen/telnet.jpg",alt:"telnet"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"更多screen功能"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#更多screen功能"}},[this._v("#")]),this._v(" 更多Screen功能")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"参考资料"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[this._v("#")]),this._v(" 参考资料")])}],!1,null,null,null);e.default=n.exports}}]);